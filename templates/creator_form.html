{% extends "base.html" %}
{% block content %}
<h2>{{ row and "Редактировать" or "Новый" }} контент‑мейкер</h2>

<form method="post" class="card-dark p-3">
  <div class="mb-3">
    <label class="form-label">Никнейм</label>
    <input type="text" name="nickname" class="form-control"
           value="{{ row.nickname if row else '' }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Пароль</label>
    <input type="password" name="password" class="form-control" {{ row and '' or 'required' }}>
    {% if row %}<small class="text-muted">Оставьте пустым, чтобы не менять</small>{% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">Промокод</label>
    <input type="text" name="promo_code" class="form-control"
           value="{{ row.promo_code if row else '' }}">
  </div>

  <div class="mb-3">
    <label class="form-label">Комиссия (%)</label>
    <input type="number" name="commission_percent" class="form-control"
           value="{{ row.commission_percent if row else 0 }}" min="0" max="100">
  </div>

  <button type="submit" class="btn btn-purple">Сохранить</button>
</form>

{% if error %}<div class="alert alert-danger mt-3">{{ error }}</div>{% endif %}
{% endblock %}
